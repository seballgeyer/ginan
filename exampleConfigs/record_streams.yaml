# Record and decode streams

inputs:
  inputs_root: ./products/

  atx_files:
    - igs20.atx

  planetary_ephemeris_files:
    - tables/DE436.1950.2050

  snx_files:
    - igs_satellite_metadata.snx
    - tables/sat_yaw_bias_rate.snx
    - tables/bds_yaw_modes.snx
    - tables/qzss_yaw_modes.snx
    # - "*_CRD.SNX"

  gnss_observations:
    gnss_observations_root: "https://<USER>:<PASS>@ntrip.data.gnss.ga.gov.au/"
    rtcm_inputs:
      - ALIC00AUS0

  satellite_data:
    satellite_data_root: "https://<USER>:<PASS>@ntrip.data.gnss.ga.gov.au/"
    rtcm_inputs:
      ssr_antenna_offset: APC
      rtcm_inputs:
        - BCEP00BKG0
        - SSRA00CNE0

outputs:
  metadata:
    config_description: record_streams
    user: your_NTRIP_username
    pass: your_NTRIP_password
    reference_system: IGS20

  outputs_root: ./outputs/<CONFIG>/

  log:
    output: true
    filename: <CONFIG>_<YYYY><DDD><HH><mm>_LOG.json

  rtcm_obs:
    output: true
    filename: <STREAM>_<YYYY><DDD><HH><mm>_OBS.rtcm

  rtcm_nav:
    output: true
    filename: <STREAM>_<YYYY><DDD><HH><mm>_NAV.rtcm

  decoded_rtcm:
    output: true
    filename: <STREAM>_<YYYY><DDD><HH><mm>_DEC.json

  rinex_obs:
    output: true
    filename: <RECEIVER>_<YYYY><DDD><HH><mm>_OBS.rnx

  rinex_nav:
    output: true
    filename: <CONFIG>_<YYYY><DDD><HH><mm>_NAV.rnx

  clocks:
    output: true
    filename: <CONFIG>_<YYYY><DDD><HH><mm>_CLK.clk
    receiver_sources: [NONE]
    satellite_sources: [SSR]
    output_interval: 30

  sp3:
    output: true
    filename: <CONFIG>_<YYYY><DDD><HH><mm>_ORB.sp3
    orbit_sources: [SSR]
    clock_sources: [SSR]
    output_interval: 300

satellite_options: # Required if write out SP3 files with SSRA streams
  global:
    models:
      pos:
        enable: true
        sources: [SSR]
      clock:
        enable: true
        sources: [SSR]

receiver_options: # Receiver and antenna information to write to Rinex file headers (can use valid Sinex files instead)
  ALIC:
    receiver_type: "SEPT POLARX5"
    antenna_type: "TWIVC6050       NONE"
    apriori_position: [-4052052.7352, 4212835.9833, -2545104.5853]
    models:
      eccentricity:
        enable: true
        offset: [0.0000, 0.0000, 0.0250]

processing_options:
  process_modes:
    spp: false

  epoch_control:
    require_obs: false
    epoch_interval: 10
    wait_next_epoch: 10
    max_rec_latency: 1

  gnss_general:
    common_sat_pco: true
    delete_old_ephemerides: true
    gpst_utc_leap_seconds: 18
    sys_options:
      gps:
        process: true
      gal:
        process: true
      glo:
        process: true
      bds:
        process: true
        code_priorities: [L1P, L5P, L2I, L6I, L7I, L7D]
      qzs:
        process: true
